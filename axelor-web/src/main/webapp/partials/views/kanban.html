<div class="kanban-container" ng-controller="KanbanCtrl" ui-tab-gate>
  <div class="navbar record-toolbar">
    <div class="navbar-inner">
      <div class="container">
        <div class="btn-group">
          <button class="btn" ng-click="onNew()" ng-if="hasButton('new')" title="{{:: 'New' | t}}">
            <i class="fa fa-plus"></i> <span ng-if="::!tbTitleHide" x-translate>New</span>
          </button>
          <button class="btn" ng-click="onRefresh()" ng-if="hasButton('refresh')" title="{{:: 'Refresh' | t}}">
            <i class="fa fa-refresh"></i> <span ng-if="::!tbTitleHide" x-translate>Refresh</span>
          </button>
        </div>
        <div ui-filter-box x-handler="this"></div>
        <div ui-view-switcher class="pull-right"></div>
      </div>
    </div>
  </div>
  <div class="kanban-view row-fluid" ng-clsss="::schema.css">
    <div class="kanban-column" ng-class="colSpan" ng-repeat="column in ::columns" ui-kanban-column>
      <h3>{{::column.title}}</h3>
      <div class="input-group" ng-if="::column.canCreate">
        <input type="text" class="form-control" ng-model="$parent.newItem">
        <span class="input-group-btn">
          <button type="button" class="btn" ng-click="onCreate()"><span x-translate>Add</span></button>
        </span>
      </div>
      <ul class="kanban-card-list" ui-sortable="sortableOptions" ng-model="records">
        <li class="kanban-card" ng-class="hilite.color" ng-repeat="record in records" ui-card>
          <div class="kanban-card-menu btn-group pull-right">
            <a tabindex="-1" href="javascript:" class="btn btn-link dropdown-toggle" data-toggle="dropdown">
              <i class="fa fa-caret-down"></i>
            </a>
            <ul class="dropdown-menu pull-right">
              <li><a href="javascript:" ng-click="onEdit(record)" x-translate>Edit</a></li>
              <li><a href="javascript:" ng-click="onDelete(record)" x-translate>Delete</a></li>
            </ul>
          </div>
          <div class="kanban-card-body"></div>
        </li>
      </ul>
      <div class="kanban-more ng-hide" ng-show="hasMore()">
        <a tabindex="-1" href="" ng-click="onMore()">load more</a>
      </div>
    </div>
  </div>
</div>
